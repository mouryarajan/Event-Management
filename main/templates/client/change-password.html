{% load static %}
<!DOCTYPE html>
<html class="no-js" lang="zxx">
    <!-- Mirrored from zcube.in/eventes/index3.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 14 May 2020 04:34:49 GMT -->
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="x-ua-compatible" content="ie=edge" />
        <title>Change Password | eVentes</title>
        <meta name="description" content="" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link
            rel="shortcut icon"
            type="image/x-icon"
            href="{% static 'client_plugins/img/favicon.png' %}"
        />
        <!-- Place favicon.ico in the root directory -->
        <!-- Sweet Alert -->
        <link
            href="{% static 'admin_plugins/plugins/sweet-alert2/sweetalert2.min.css' %}"
            rel="stylesheet"
            type="text/css"
        />
        <!-- Alertify css -->
        <link
            href="{% static 'admin_plugins/plugins/alertify/css/alertify.css'  %}"
            rel="stylesheet"
            type="text/css"
        />
        <!-- CSS here -->
        <link
            href="https://fonts.googleapis.com/css?family=Karla:400,400i,700,700i&amp;display=swap"
            rel="stylesheet"
        />
        <link
            href="https://fonts.googleapis.com/css?family=Montserrat:400,400i,500,500i,600,600i,700,700i,800,800i,900,900i&amp;display=swap"
            rel="stylesheet"
        />
        <link
            rel="stylesheet"
            href="{% static 'client_plugins/css/bootstrap.min.css' %}"
        />
        <link
            rel="stylesheet"
            href="{% static 'client_plugins/css/animate.min.css' %}"
        />
        <link
            rel="stylesheet"
            href="{% static 'client_plugins/css/magnific-popup.css' %}"
        />
        <link
            rel="stylesheet"
            href="{% static 'client_plugins/fontawesome/css/all.min.css' %}"
        />
        <link
            rel="stylesheet"
            href="{% static 'client_plugins/css/dripicons.css' %}"
        />
        <link
            rel="stylesheet"
            href="{% static 'client_plugins/css/slick.css' %}"
        />
        <link
            rel="stylesheet"
            href="{% static 'client_plugins/css/default.css' %}"
        />
        <link
            rel="stylesheet"
            href="{% static 'client_plugins/css/style.css' %}"
        />
        <link
            rel="stylesheet"
            href="{% static 'client_plugins/css/responsive.css' %}"
        />
        <style>
            /* width */
            ::-webkit-scrollbar {
                width: 10px;
                background-color: #f5f5f5;
            }

            /* Track */
            ::-webkit-scrollbar-track {
                -webkit-box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.3);
                background-color: #f5f5f5;
                border-radius: 10px;
            }

            /* Handle */
            ::-webkit-scrollbar-thumb {
                border-radius: 10px;
                background-color: #0652c5;
                background-image: -webkit-linear-gradient(
                    315deg,
                    #0652c5 0%,
                    #d4418e 74%
                );
            }
            .parsley-error {
                color: red;
            }
            .parsley-errors-list {
                margin: 2px 0 10px 8px;
                padding: 0;
                color: red;
                list-style-type: none;
                font-size: 0.9em;
                line-height: 0.9em;
                opacity: 0;
                transition: all 0.3s ease-in;
                -o-transition: all 0.3s ease-in;
                -moz-transition: all 0.3s ease-in;
                -webkit-transition: all 0.3s ease-in;
            }
            .parsley-errors-list.filled {
                opacity: 1;
            }
        </style>
    </head>
    <body>
        <!-- main-area -->
        <main>
            <!-- slider-area -->
            <!-- breadcrumb-area -->
            <!-- slider-area-end -->
            <section id="team" class="team-area p-relative pt-100 pb-200 fix">
                <div class="circal1 item-zoom-inout"></div>
                <div class="circal2 item-zoom-inout"></div>
                <div class="circal3 item-zoom-inout"></div>
                <div class="circal4 item-zoom-inout"></div>
                <div class="container">
                    <div class="row">
                        <div class="col-lg-3 col-sm-12"></div>
                        <div class="col-lg-4 col-sm-12">
                            <div
                                class="login-form mt-50 align-items-center justify-content-center wow fadeInLeft"
                                data-animation="fadeInLeft"
                                data-delay=".2s"
                            >
                                <!-- <h2 style="font-size: 50px;">eVentes.</h2> -->
                                <div class="text-center">
                                    <a href="index.html" class="logo-admin"
                                        ><img
                                            src="{% static 'admin_plugins/images/loginlogo.png' %}"
                                            height="26"
                                            alt="logo"
                                    /></a>
                                </div>
                                <br />
                                <form
                                    id="form"
                                    action=""
                                    enctype="multipart/form-data"
                                    method="POST"
                                >
                                    {% csrf_token %}
                                    <div id="checkbox-errors"></div>
                                    <div class="form-outer">
                                        <div class="icon">
                                            <i class="fal fa-key"></i>
                                        </div>
                                        <input
                                            required
                                            type="password"
                                            placeholder="Enter your old password"
                                            name="txtoldpassword"
                                            id="txtoldpassword"
                                            data-parsley-errors-container="#checkbox-errors"
                                        />
                                    </div>
                                    <div id="checkbox-errors2"></div>
                                    <div class="form-outer">
                                        <div class="icon">
                                            <i class="fal fa-key"></i>
                                        </div>
                                        <input
                                            required
                                            type="password"
                                            placeholder="Enter your new password"
                                            name="txtnewpassword"
                                            id="txtnewpassword"
                                            data-parsley-errors-container="#checkbox-errors2"
                                            data-parsley-minlength="8"
                                            data-parsley-uppercase="1"
                                            data-parsley-lowercase="1"
                                            data-parsley-number="1"
                                            data-parsley-special="1"
                                        />
                                    </div>
                                    <div id="checkbox-errors3"></div>
                                    <div class="form-outer">
                                        <div class="icon">
                                            <i class="fal fa-key"></i>
                                        </div>
                                        <input
                                            required
                                            type="password"
                                            placeholder="Confirm your password"
                                            name="txtcnfpassword"
                                            id="txtcnfpassword"
                                            data-parsley-equalto="#txtnewpassword"
                                            data-parsley-equalto-message="Password Doesn't Match"
                                            data-parsley-errors-container="#checkbox-errors3"
                                        />
                                    </div>
                                    <div class="forgot-login text-left">
                                        <a
                                            name="reset"
                                            href="{% url 'reset_password' %}"
                                            class="forgot-login"
                                            ><i class="fal fa-lock"></i> Forgot
                                            Password</a
                                        >
                                    </div>
                                    <br />
                                    <div class="text-center">
                                        <button
                                            id="submit-btn"
                                            type="submit"
                                            class="btn"
                                        >
                                            Change Password
                                        </button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <!-- JS here -->
        <script src="{% static 'client_plugins/js/vendor/modernizr-3.5.0.min.js' %}"></script>
        <script src="{% static 'client_plugins/js/vendor/jquery-1.12.4.min.js' %}"></script>
        <script src="{% static 'client_plugins/js/popper.min.js' %}"></script>
        <script src="{% static 'client_plugins/js/bootstrap.min.js' %}"></script>
        <script src="{% static 'client_plugins/js/one-page-nav-min.js' %}"></script>
        <script src="{% static 'client_plugins/js/slick.min.js' %}"></script>
        <script src="{% static 'client_plugins/js/ajax-form.js' %}"></script>
        <script src="{% static 'client_plugins/js/paroller.js' %}"></script>
        <script src="{% static 'client_plugins/js/wow.min.js' %}"></script>
        <script src="{% static 'client_plugins/js/parallax.min.js' %}"></script>
        <script src="{% static 'client_plugins/js/jquery.waypoints.min.js' %}"></script>
        <script src="{% static 'client_plugins/js/jquery.countdown.min.js' %}"></script>
        <script src="{% static 'client_plugins/js/jquery.counterup.min.js' %}"></script>
        <script src="{% static 'client_plugins/js/jquery.scrollUp.min.js' %}"></script>
        <script src="{% static 'client_plugins/js/jquery.magnific-popup.min.js' %}"></script>
        <script src="{% static 'client_plugins/js/element-in-view.js' %}"></script>
        <script src="{% static 'client_plugins/js/isotope.pkgd.min.js' %}"></script>
        <script src="{% static 'client_plugins/js/imagesloaded.pkgd.min.js' %}"></script>
        <script src="{% static 'client_plugins/js/main.js' %}"></script>
        <script src="{% static 'admin_plugins/plugins/parsleyjs/parsley.min.js' %}"></script>
        <script src="{% static 'admin_plugins/plugins/sweet-alert2/sweetalert2.min.js' %}"></script>
        <script src="{% static 'admin_plugins/plugins/alertify/js/alertify.js' %}"></script>
        <script>
            //has uppercase
            window.Parsley.addValidator("uppercase", {
                requirementType: "number",
                validateString: function (value, requirement) {
                    var uppercases = value.match(/[A-Z]/g) || [];
                    return uppercases.length >= requirement;
                },
                messages: {
                    en: " - Must contain at least (%s) uppercase letter.",
                },
            });
            //has lowercase
            window.Parsley.addValidator("lowercase", {
                requirementType: "number",
                validateString: function (value, requirement) {
                    var lowecases = value.match(/[a-z]/g) || [];
                    return lowecases.length >= requirement;
                },
                messages: {
                    en: " - Must contain at least (%s) lowercase letter.",
                },
            });
            //has number
            window.Parsley.addValidator("number", {
                requirementType: "number",
                validateString: function (value, requirement) {
                    var numbers = value.match(/[0-9]/g) || [];
                    return numbers.length >= requirement;
                },
                messages: {
                    en: " - Must contain at least (%s) number.",
                },
            });
            //has special char
            window.Parsley.addValidator("special", {
                requirementType: "number",
                validateString: function (value, requirement) {
                    var specials = value.match(/[^a-zA-Z0-9]/g) || [];
                    return specials.length >= requirement;
                },
                messages: {
                    en: " - Must contain at least (%s) special character.",
                },
            });
        </script>
        <script>
            $(document).ready(function () {
                $("#form").parsley();
                $("#submit-btn").click(function (e) {
                    if ($("#form").parsley().isValid()) {
                        e.preventDefault();
                        var oldpassword = $("#txtoldpassword").val();
                        var newpassword = $("#txtnewpassword").val();
                        var csrfmiddlewaretoken = $(
                            "[name='csrfmiddlewaretoken']"
                        )
                            .first()
                            .val();
                        var url = $("#form").data("url");
                        $.ajax({
                            url: url,
                            data: {
                                oldpassword: oldpassword,
                                newpassword: newpassword,
                                csrfmiddlewaretoken: csrfmiddlewaretoken,
                            },
                            type: "post",
                            success: function (response) {
                                swal({
                                    title: "Good job!",
                                    text: "You clicked the button!",
                                    type: "success",
                                    showCancelButton: 0,
                                    confirmButtonClass: "btn btn-success",
                                }).then(function () {
                                    location.replace("/login");
                                });
                            },
                            error: function (response) {
                                alertify.error(
                                    response["responseJSON"]["error"]
                                );
                            },
                        });
                    }
                });
                $("a[name=reset]").click(function (e) {
                    e.preventDefault();
                    var url = $(this).attr("href");
                    localStorage.setItem("type", "client");
                    location.replace(url);
                });
            });
        </script>
    </body>

    <!-- Mirrored from zcube.in/eventes/index3.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 14 May 2020 04:35:09 GMT -->
</html>
